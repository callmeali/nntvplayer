/**
 * videojs-qualityselector
 * @version 0.0.4
 * @copyright 2018 Emmanuel Alves <manel.pb@gmail.com>
 * @license MIT
 */
(function(m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define([],m):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).videojsQualityselector=m()})(function(){return function d(f,h,g){function n(b,a){if(!h[b]){if(!f[b]){var c="function"==typeof require&&require;if(!a&&c)return c(b,!0);if(k)return k(b,!0);a=Error("Cannot find module '"+b+"'");throw a.code="MODULE_NOT_FOUND",
a;}a=h[b]={exports:{}};f[b][0].call(a.exports,function(a){var c=f[b][1][a];return n(c?c:a)},a,a.exports,d,f,h,g)}return h[b].exports}for(var k="function"==typeof require&&require,l=0;l<g.length;l++)n(g[l]);return n}({1:[function(f,h,g){(function(d){Object.defineProperty(g,"__esModule",{value:!0});var f=function(){function b(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,
p){c&&b(a.prototype,c);p&&b(a,p);return a}}(),k=(d="undefined"!==typeof window?window.videojs:"undefined"!==typeof d?d.videojs:null)&&d.__esModule?d:{"default":d},l=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.player=a;this.sources=[];this.containerDropdownElement=this.callback=void 0;this.defaults={}}f(b,[{key:"onQualitySelect",value:function(a){var c=this;this.callback&&this.callback(a);if(this.sources){var b=this.sources.find(function(b){return b.format===
a.code});if(b){this.player.src({src:b.src,type:b.type});this.player.bigPlayButton.hide();var e=c.player.currentTime();this.player.on("loadedmetadata",function(){c.player.currentTime(e);c.player.on("seeked",function(){c.player.play()});Array.from(c.containerDropdownElement.firstChild.childNodes).forEach(function(b){b.dataset.code===a.code?b.setAttribute("class","current"):b.removeAttribute("class")})})}(b=document.getElementById(this.player.id_).getElementsByClassName("vjs-brand-quality-link"))&&0<
b.length&&(b[0].innerText=a.name)}this.onToggleDropdown()}},{key:"onToggleDropdown",value:function(){if(-1===this.containerDropdownElement.className.indexOf("show"))this.containerDropdownElement.className+=" show";else{var a=this.containerDropdownElement.className.replace(" show","");this.containerDropdownElement.className=a}}},{key:"onPlayerReady",value:function(a){var b=this;this.containerDropdownElement=document.createElement("div");this.containerDropdownElement.className="vjs-quality-dropdown";
var d=document.createElement("div");d.className="vjs-quality-container";var e=document.createElement("button");e.className="vjs-brand-quality-link";e.onclick=function(a){return b.onToggleDropdown(a)};e.innerText=a.text||"Quality";var f=document.createElement("ul");a.formats||(a.formats=[{code:"auto",name:"Auto"}]);a.onFormatSelected&&(this.callback=a.onFormatSelected);a.sources&&(this.sources=a.sources);a.formats.map(function(a){var c=document.createElement("li");c.dataset.code=a.code;var d=document.createElement("a");
d.innerText=a.name;d.setAttribute("href","#");d.addEventListener("click",function(c){c.preventDefault();b.onQualitySelect(a)});c.appendChild(d);f.appendChild(c)});this.containerDropdownElement.appendChild(f);d.appendChild(this.containerDropdownElement);d.appendChild(e);a=this.player.controlBar.fullscreenToggle.el();this.player.controlBar.el().insertBefore(d,a);this.player.addClass("vjs-qualityselector")}}]);return b}();d=function(b){var a=this;this.ready(function(){var c=new l(a);c.onPlayerReady(k["default"].mergeOptions(c.defaults,
b))})};(k["default"].registerPlugin||k["default"].plugin)("qualityselector",d);d.VERSION="0.0.4";g["default"]=d;h.exports=g["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[1])(1)});